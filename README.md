# AdaOS

![AdaOS CI](https://github.com/stipot/adaos/actions/workflows/ci.yml/badge.svg)

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://stipot.github.io/adaos/)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone -b rev2026 https://github.com/stipot/adaos.git
cd adaos
git submodule update --init --recursive # –í–µ–± –∫–ª–∏–µ–Ω—Ç

# mac/linux:
bash tools/bootstrap.sh
# windows (PowerShell):
./tools/bootstrap.ps1
. .\.venv\Scripts\Activate.ps1

# install dev core (optional)
pip install -e ".[dev]"

adaos --help
```

## –û–±–∑–æ—Ä SDK

- **–ü—É–±–ª–∏—á–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞.** –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ñ–∞—Å–∞–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `adaos.sdk.manage` (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è), `adaos.sdk.data` (–¥–∞—Ç–∞–ø–ª–µ–π–Ω —É—Ç–∏–ª–∏—Ç—ã) –∏ —Ñ—É–Ω–∫—Ü–∏—é `adaos.sdk.validate_self` (–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–≤—ã–∫–∞).
- **–ú–æ–¥–µ–ª—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.** –ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ `ctx.caps`; –Ω–∞–∑–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∏–º–µ–Ω–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `manage.self`, `skills.manage`, `scenarios.manage`, `resources.manage`). –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤ –≤–æ–∑–±—É–∂–¥–∞–µ—Ç—Å—è `adaos.sdk.core.CapabilityError`.
- **–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `request_id` –∏ `dry_run`. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ KV-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Å —Ç–µ–º –∂–µ `request_id` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.
- **–ú–æ–¥–µ–ª—å –æ—à–∏–±–æ–∫.** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è `SdkRuntimeNotInitialized`; –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–≤–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ `QuotaExceeded`; –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äî —á–µ—Ä–µ–∑ `ConflictError`.
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.** –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@tool` –∏–∑ `adaos.sdk.decorators` –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ JSON-—Å—Ö–µ–º—ã –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è (summary, stability). –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä `adaos.sdk.exporter.export` –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç —ç—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è —Å–∏—Å—Ç–µ–º LLM.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
adaos --help
adaos skill install weather_skill
adaos skill list
adaos skill run weather_skill
adaos skill run weather_skill --topic nlp.intent.weather.get --payload '{"city": "Berlin"}'
adaos api serve --host 127.0.0.1 --port 8777
curl -i http://127.0.0.1:8777/health/live
curl -i http://127.0.0.1:8777/health/ready
# Windows –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –Ω–æ–¥—É –≤ —Ç–æ–π-–∂–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ
$env:ADAOS_BASE_DIR_SUFFIX="_1"; adaos api serve --host 127.0.0.1 --port 8778

# –ú–æ–Ω–∏–æ—Ç—Ä–∏–Ω–≥
adaos api serve --host 127.0.0.1 --port 8777
$env:ADAOS_BASE_DIR_SUFFIX="_1"; adaos api serve --host 127.0.0.1 --port 8778
adaos monitor sse http://127.0.0.1:8777/api/observe/stream
curl -H "X-AdaOS-Token: dev-local-token" -X POST http://127.0.0.1:8778/api/observe/test
# –í–∞—Ä–∏–∞–Ω—Ç 2
# 1) –£–∑–Ω–∞–π node_id member-–Ω–æ–¥—ã:
curl -H "X-AdaOS-Token: dev-local-token" http://127.0.0.1:8777/api/subnet/nodes
# 2) –ü–æ–¥–Ω–∏–º–∏ SSE —Å–æ —Å—Ç—Ä–æ–≥–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–º:
adaos monitor sse http://127.0.0.1:8777/api/observe/stream --topic net.subnet.
# 3) –ü–æ–ø—Ä–æ—Å–∏ —Ö–∞–± –¥–µ—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –Ω–æ–¥—É (—Å—Ä–∞–∑—É –ø—Ä–∏–ª–µ—Ç–∏—Ç net.subnet.node.down):
curl -H "X-AdaOS-Token: dev-local-token" -H "Content-Type: application/json" \
     -X POST http://127.0.0.1:8777/api/subnet/deregister \
     -d '{"node_id":"<member-node-id>"}'
# –° —Ö–≤–æ—Å—Ç–æ–º
adaos monitor sse http://127.0.0.1:8777/api/observe/stream?replay_lines=50 --topic net.subnet.
```

```python
from adaos.services.skill.runtime import run_skill_handler_sync

print(
    run_skill_handler_sync(
        "weather_skill",
        "nlp.intent.weather.get",
        {"city": "Berlin"},
    )
)
```

### –°–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –Ω–æ–¥—ã

```python
headers = {"X-AdaOS-Token": "dev-local-token"}

# 1) –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
print(requests.get("http://127.0.0.1:8778/api/node/status", headers=headers).json())

# 2) —Å–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –Ω–∞ member –∏–ª–∏ hub (–∏ –∑–∞–¥–∞—Ç—å hub_url)
payload = {"role": "member", "hub_url": "http://127.0.0.1:8777"}
print(requests.post("http://127.0.0.1:8778/api/node/role", json=payload, headers=headers).json())

# 3) —Å–Ω–æ–≤–∞ —Å—Ç–∞—Ç—É—Å ‚Äî –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å role=member, ready=true
print(requests.get("http://127.0.0.1:8778/api/node/status", headers=headers).json())
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## AdaOS API

AdaOS CLI –¥–æ–ø–æ–ª–Ω–µ–Ω –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º HTTP API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ `http://127.0.0.1:8777`).  
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-AdaOS-Token`. –¢–æ–∫–µ–Ω –∑–∞–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `ADAOS_API_TOKEN` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `dev-local-token`).

### POST `/api/say`

–û–∑–≤—É—á–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã–π TTS-–±—ç–∫–µ–Ω–¥ (native / OVOS / Rhasspy).

**–ó–∞–ø—Ä–æ—Å:**

```json
{
  "text": "Hello from AdaOS",
  "provider": "auto",     // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä ("auto"|"ovos"|"rhasspy")
  "voice": "default"      // –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –±—ç–∫–µ–Ω–¥–∞)
}
````

**–û—Ç–≤–µ—Ç:**

```json
{
  "status": "ok",
  "provider": "ovos",
  "text": "Hello from AdaOS"
}
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### Linux / macOS

```bash
curl -X POST http://127.0.0.1:8777/api/say \
  -H "X-AdaOS-Token: dev-local-token" \
  -H "Content-Type: application/json" \
  -d '{"text":"Hello from AdaOS"}'
```

#### Windows PowerShell

```powershell
Invoke-RestMethod -Method Post -Uri http://127.0.0.1:8777/api/say `
  -Headers @{ "X-AdaOS-Token" = "dev-local-token" } `
  -ContentType "application/json" `
  -Body (@{ text = "Hello from AdaOS" } | ConvertTo-Json)
```

---

### –°—Ç–∞—Ç—É—Å / —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ API

* [x] `/api/say` ‚Äî –æ–∑–≤—É—á–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
* [ ] `/api/listen` ‚Äî –∑–∞—Ö–≤–∞—Ç –∞—É–¥–∏–æ –∏ STT (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
* [ ] `/api/skills` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º–∏
* [ ] `/api/runtime` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

## **CLI AdaOS**

AdaOS CLI –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–≤—ã–∫–∞–º–∏, —Ç–µ—Å—Ç–∞–º–∏ –∏ Runtime —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.
–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é (`ru`/`en`).

## **–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

```bash
adaos [OPTIONS] COMMAND [ARGS]...
```

* `OPTIONS` ‚Äì –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ CLI (–Ω–∞–ø—Ä–∏–º–µ—Ä, `--help`).
* `COMMAND` ‚Äì —Ä–∞–∑–¥–µ–ª –∫–æ–º–∞–Ω–¥: `skill`, `runtime`, `test`, `db`.
* `ARGS` ‚Äì –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã.

---

## **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞–≤—ã–∫–∞–º–∏**

```bash
adaos skill [SUBCOMMAND]
```

> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º–∏: —É—Å—Ç–∞–Ω–æ–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

### **1. –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤**

```bash
adaos skill list
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–∞–≤—ã–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill list
```

–í—ã–≤–æ–¥:

```
- AlarmSkill (–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è: 1.0)
- WeatherSkill (–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è: 0.3.2)
```

---

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–∞–≤—ã–∫–∞**

```bash
adaos skill create <skill_name> [--template <template_name>]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* `<skill_name>` ‚Äì –∏–º—è –Ω–æ–≤–æ–≥–æ –Ω–∞–≤—ã–∫–∞.
* `--template, -t` ‚Äì —à–∞–±–ª–æ–Ω –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞–≤—ã–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `basic`).

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill create alarm_skill -t AlarmSkill
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤—ã–∫–∞**

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–¥–∞):

skill.yaml —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≤–∞–ª–∏–¥–µ–Ω –ø–æ —Å—Ö–µ–º–µ.

–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã: handlers/main.py.

dependencies: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏; requirements.txt –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏.

tools[].name —É–Ω–∏–∫–∞–ª—å–Ω—ã, —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–Ω—ã (draft 2020-12).

events.subscribe[]/publish[] ‚Äî —Å—Ç—Ä–æ–∫–∏, –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å –∏–º–ø–æ—Ä—Ç–∞ handler):
6) @tool("<name>") —Ä–µ–∞–ª—å–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tools[].name.
7) –ï—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫ @subscribe(topic) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ events.subscribe[].
8) (–æ–ø—Ü.) ¬´—Å—É—Ö–æ–π –≤—ã–∑–æ–≤¬ª –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –ø—É—Å—Ç—ã–º–∏/–º–æ–∫–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ --probe-tools, –∏–Ω–∞—á–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º.

```bash
adaos skill validate weather_skill
adaos skill validate weather_skill --json
adaos skill validate weather_skill --strict
```

---

### **3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≤—ã–∫–∞ –∏–∑ monorepo**

```bash
adaos skill install <skill_name>
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞–≤—ã–∫ –∏–∑ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –ø–æ–º–µ—á–∞–µ—Ç –µ–≥–æ –∫–∞–∫ `installed=1`.
–û–±–Ω–æ–≤–ª—è–µ—Ç `sparse-checkout`, —á—Ç–æ–±—ã –Ω–∞–≤—ã–∫ –ø–æ—è–≤–∏–ª—Å—è –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill install weather_skill
```

---

### **4. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

```bash
adaos skill uninstall <skill_name>
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–£–¥–∞–ª—è–µ—Ç –Ω–∞–≤—ã–∫ –∏–∑ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ñ–ª–∞–≥ `installed=0`) –∏ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç `sparse-checkout`.

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill uninstall alarm_skill
```

---

### **5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞**

```bash
adaos skill update <skill_name>
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –Ω–∞–≤—ã–∫–∞ –∏–∑ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—é –≤ –ë–î.

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill update weather_skill
```

---

### **6. –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

```bash
adaos skill push <skill_name> [-m <message>]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

* `<skill_name>` ‚Äì –∏–º—è –Ω–∞–≤—ã–∫–∞.
* `-m, --message` ‚Äì –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∫–æ–º–º–∏—Ç—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞`).

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill push alarm_skill -m "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –ª–æ–≥–∏–∫–∏ –±—É–¥–∏–ª—å–Ω–∏–∫–∞"
```

---

### **7. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–≤—ã–∫–∞ (pull)**

```bash
adaos skill pull <skill_name>
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞–≤—ã–∫ –∏–∑ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –Ω–∞–≤—ã–∫–∞.

---

### **8. –í—ã–≤–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞–≤—ã–∫–∞**

```bash
adaos skill versions <skill_name>
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å–∏—é –Ω–∞–≤—ã–∫–∞.

**–ü—Ä–∏–º–µ—Ä:**

```bash
adaos skill versions alarm_skill
```

–í—ã–≤–æ–¥:

```
alarm_skill ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è: 1.0.0
```

---

## **–†–∞–±–æ—Ç–∞ —Å Runtime, —Ç–µ—Å—Ç–∞–º–∏ –∏ –ë–î**

> –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.
> –ö–æ–º–∞–Ω–¥—ã `adaos runtime`, `adaos test` –∏ `adaos db` –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö.

---

## **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤—ã–∫–∞ –∏–∑ —à–∞–±–ª–æ–Ω–∞

```bash
adaos skill create weather_skill -t AlarmSkill
adaos skill push weather_skill -m "–î–æ–±–∞–≤–ª–µ–Ω –Ω–∞–≤—ã–∫ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ–≥–æ–¥—ã"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é

```bash
adaos skill list
adaos skill update alarm_skill
adaos skill update weather_skill
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ AdaOS (MVP)

project_root/
‚îú‚îÄ‚îÄ .env                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (SKILLS_REPO_URL –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ setup.py
‚îú‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ src/adaos/
    ‚îú‚îÄ‚îÄ agent/                  # Runtime
    ‚îÇ   ‚îú‚îÄ‚îÄ core/              # State machine, skill_loader
    ‚îÇ   ‚îú‚îÄ‚îÄ db/                # SQLite persistence
    ‚îÇ   ‚îú‚îÄ‚îÄ i18n/              # TTS / UI strings
    ‚îÇ   ‚îî‚îÄ‚îÄ audio/             # asr, tts, wake_word (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
    ‚îÇ
    ‚îú‚îÄ‚îÄ sdk/                   # CLI –∏ DevTools
    ‚îÇ   ‚îú‚îÄ‚îÄ cli/               # Typer CLI
    ‚îÇ   ‚îú‚îÄ‚îÄ skills/            # –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã / —à–∞–±–ª–æ–Ω—ã / –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ llm/               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø—Ä–æ–º–ø—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ locales/           # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è CLI
    ‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (git, env)
    ‚îÇ
    ‚îú‚îÄ‚îÄ common/                # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∫–æ–Ω—Ñ–∏–≥, –ª–æ–≥–≥–µ—Ä, —Å—Ö–µ–º—ã
    ‚îî‚îÄ‚îÄ skills_templates/      # YAML/intent-—à–∞–±–ª–æ–Ω—ã
‚îÇ
‚îî‚îÄ‚îÄ .adaos/                  # –†–∞–±–æ—á–∞—è —Å—Ä–µ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è)
    ‚îú‚îÄ‚îÄ skill_db.sqlite      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ (–≤–µ—Ä—Å–∏–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏)
    ‚îú‚îÄ‚îÄ models/              # –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (ASR –∏ –¥—Ä.)
    ‚îÇ   ‚îî‚îÄ‚îÄ vosk-model-small-ru-0.22/
    ‚îú‚îÄ‚îÄ runtime/             # –õ–æ–≥–∏ –∏ —Ç–µ—Å—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ logs/
    ‚îÇ   ‚îî‚îÄ‚îÄ tests/
    ‚îî‚îÄ‚îÄ skills/              # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ (sparse-checkout –∏–∑ monorepo)
        ‚îú‚îÄ‚îÄ test_skill2/
        ‚îÇ   ‚îú‚îÄ‚îÄ skill.yaml
        ‚îÇ   ‚îú‚îÄ‚îÄ handlers/
        ‚îÇ   ‚îî‚îÄ‚îÄ intents/
        ‚îî‚îÄ‚îÄ test_skill3/

## **–°—Ö–µ–º–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (PlantUML)**

```plantuml
@startuml Local_AdaOS_MVP
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Container(user, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–ì–æ–ª–æ—Å –∏–ª–∏ —Ç–µ–∫—Å—Ç", "–§–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã")
Container(llm, "LLM Client", "OpenAI / litellm", "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ –Ω–∞–≤—ã–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É")
Container(testrunner, "Test Runner", "PyYAML + pytest", "–ü—Ä–æ–≥–æ–Ω—è–µ—Ç —Ç–µ—Å—Ç—ã BDD –¥–ª—è –Ω–∞–≤—ã–∫–æ–≤")
Container(git, "Git Repo", "GitPython", "–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")
Container(sqlite, "Skill DB", "SQLite + SQLAlchemy", "–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–æ–≤ –∏ –≤–µ—Ä—Å–∏–π")
Container(runtime, "Skill Runtime", "importlib + watchdog", "–ó–∞–ø—É—Å–∫ –Ω–∞–≤—ã–∫–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤")
Container(logs, "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ", "logging + rich", "–•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫")

Rel(user, llm, "–ì–æ–≤–æ—Ä–∏—Ç/–ø–∏—à–µ—Ç –∑–∞–ø—Ä–æ—Å")
Rel(llm, testrunner, "–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç")
Rel(testrunner, runtime, "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ")
Rel(testrunner, git, "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –Ω–∞–≤—ã–∫")
Rel(testrunner, sqlite, "–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ")
Rel(runtime, sqlite, "–ß–∏—Ç–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞–≤—ã–∫–æ–≤")
Rel(runtime, logs, "–ü–∏—à–µ—Ç –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –∏ –æ—à–∏–±–æ–∫")

@enduml
```

## **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã**

1. **LLM** (OpenAI / Ollama —á–µ—Ä–µ–∑ `openai` –∏–ª–∏ `litellm`)

   * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç (YAML) –∏ –∫–æ–¥ –Ω–∞–≤—ã–∫–∞.

2. **TestRunner** (`PyYAML`, `pytest`)

   * –ü—Ä–æ–≥–æ–Ω—è–µ—Ç —Ç–µ—Å—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–≤—ã–∫–∞—Ö.
   * –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–ª ‚Äì –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –Ω–∞–≤—ã–∫ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.

3. **GitPython**

   * –•—Ä–∞–Ω–∏—Ç –∫–∞–∂–¥—É—é –≤–µ—Ä—Å–∏—é –Ω–∞–≤—ã–∫–∞ –≤ `skills_repo/`.
   * –¢–µ–≥–∏: `AlarmSkill_v1.0`.

4. **SQLite + SQLAlchemy**

   * –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç: –≤–µ—Ä—Å–∏—è, –ø—É—Ç—å –∫ –∞–∫—Ç–∏–≤–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞–≤—ã–∫–∞, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è.

5. **Runtime** (`importlib`, `watchdog`)

   * –ü–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –∏–∑ `skills/active/`.
   * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç intent ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç handler.py ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞.

6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (`logging + rich`)

   * –í—Å–µ –æ—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤ –∏ Runtime –ø–∏—à—É—Ç—Å—è –≤ `runtime.log`.
   * –í–æ–∑–º–æ–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CLI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

## Skill

### **1. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: –Ω–∞–≤—ã–∫ = –∫–æ–¥ + –º–∞–Ω–∏—Ñ–µ—Å—Ç (SDK)**

* **–ö–∞–∂–¥—ã–π –Ω–∞–≤—ã–∫ ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å –Ω–∞ Python**: `manifest.yaml + handler.py`.
* **SDK –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π** (10‚Äì15 —Ñ—É–Ω–∫—Ü–∏–π) –∏ –ø–æ—Ö–æ–∂ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (Flask, FastAPI, Alexa Skills Kit).
* –ù–∞–≤—ã–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–±—â–µ–º —Ä–∞–Ω—Ç–∞–π–º–µ –±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ sandbox, –Ω–æ —Å **—Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤ –∫–∞–∫ –≤ Android**.

–ü—Ä–∏–º–µ—Ä:

```yaml
# manifest.yaml
name: AlarmSkill
version: 1.0
permissions:
  - audio.playback
  - time.schedule
intents:
  - set_alarm
  - cancel_alarm
```

```python
# handler.py
from skill_sdk import speak, set_alarm, cancel_alarm

def handle(intent, entities):
    if intent == "set_alarm":
        set_alarm(entities["time"])
        speak("–ë—É–¥–∏–ª—å–Ω–∏–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    else:
        cancel_alarm()
        speak("–ë—É–¥–∏–ª—å–Ω–∏–∫ –æ—Ç–º–µ–Ω—ë–Ω")
```

### **2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –≤–º–µ—Å—Ç–æ –≥–ª—É–±–æ–∫–æ–π –∏–∑–æ–ª—è—Ü–∏–∏**

* –ù–∞–≤—ã–∫ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ–ª—É—á–∞–µ—Ç **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤** –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã (–º–∏–∫—Ä–æ—Ñ–æ–Ω, TTS, —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –∏ —Ç.–¥.).
* –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –∏ –∫–æ–¥ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑).
* –í —Å–ª—É—á–∞–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –≤–æ–∑–º–æ–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –Ω–∞–≤—ã–∫–∞ —á–µ—Ä–µ–∑ CI/CD.

### **3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤ —á–µ—Ä–µ–∑ LLM –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–π UI**

* **LLM –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–º —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –Ω–∞–≤—ã–∫–æ–≤**, –ø–æ–ª—É—á–∞—è —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ SDK –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤.
* –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –Ω–∞–≤—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ AdaOS –¥–µ–ª–∞–µ–º **UI-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**:

  * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞–≤—ã–∫ –≥–æ–ª–æ—Å–æ–º –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–º.
  * LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç.
  * –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–∞–≥–∞–∑–∏–Ω.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

* LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 90% –Ω–∞–≤—ã–∫–æ–≤ –±–µ–∑ —á–µ–ª–æ–≤–µ–∫–∞.
* –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ —Ä—É–∫–∞–º–∏.

---

### **4. CI/CD –∏ –º–∞–≥–∞–∑–∏–Ω –Ω–∞–≤—ã–∫–æ–≤ –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

* –í—Å–µ –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω**:

  1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
  2. –ü—Ä–æ–≥–æ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ / —ç–º—É–ª—è—Ç–æ—Ä–µ.
  3. –ü–æ–¥–ø–∏—Å—å –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –º–∞–≥–∞–∑–∏–Ω–µ.

* –ú–∞–≥–∞–∑–∏–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—è–º–∏ SDK –∏ –Ω–∞–≤—ã–∫–æ–≤, –∫–∞–∫ App Store.

---

### **5. –õ—ë–≥–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–≤—ã–∫–æ–≤**

* –ù–∞–≤—ã–∫ –º–æ–∂–µ—Ç **–≤—ã–∑–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –Ω–∞–≤—ã–∫** —á–µ—Ä–µ–∑ SDK (`invoke_skill(skill_id, params)`).
* –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ DSL-–≥—Ä–∞—Ñ–∞.
* –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —ç—Ç–∏ —Å–≤—è–∑–∏ –∫–∞–∫ **–≥—Ä–∞—Ñ**, –Ω–æ —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å UI-–Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞.

### Skill Lifecycle

```plantuml
@startuml Skill_Lifecycle
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

LAYOUT_WITH_LEGEND()

Container(skillMgr, "SkillManager", "Python", "–£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –Ω–∞–≤—ã–∫–æ–≤")
Component(store, "Local Skill Store", "Filesystem", "–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞–≤—ã–∫–æ–≤")
Component(registry, "Skill Registry", "Git / AdaOS Server", "–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥")
Component(executor, "SkillExecutor", "Python Sandbox", "–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")

Rel(skillMgr, registry, "–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é / –Ω–∞–≤—ã–∫")
Rel(skillMgr, store, "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç")
Rel(skillMgr, executor, "–ü–µ—Ä–µ–¥–∞—ë—Ç –Ω–∞–≤—ã–∫ –Ω–∞ –∑–∞–ø—É—Å–∫")
Rel(executor, store, "–ß–∏—Ç–∞–µ—Ç –∫–æ–¥ / –Ω–∞—Å—Ç—Ä–æ–π–∫–∏")
Rel(executor, skillMgr, "–°–æ–æ–±—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç")

@enduml

```

## –¢–∞–±–ª–∏—Ü–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å AdaOS Server

| –≠—Ç–∞–ø                    | –ó–∞–ø—Ä–æ—Å –æ—Ç Reutilizer   | –û—Ç–≤–µ—Ç –æ—Ç AdaOS Server                    |
| ----------------------- | ---------------------- | ---------------------------------------- |
| üì° –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è          | `POST /register` + ID  | `200 OK` + `config`, `skill_list`        |
| üîÅ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è        | `GET /skills/update`   | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π              |
| ‚¨áÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≤—ã–∫–∞     | `GET /skills/{id}`     | –ê—Ä—Ö–∏–≤ —Å –∫–æ–¥–æ–º + –º–∞–Ω–∏—Ñ–µ—Å—Ç                 |
| üì• –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤       | `POST /logs`           | `200 OK` –∏–ª–∏ `retry`                     |
| üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö      | `POST /data` (sensors) | `200 OK` –∏–ª–∏ `rules to trigger`          |
| üîÉ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è | `PATCH /status`        | –ú–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ |

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```plantuml
@startuml Hybrid_Approach
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_WITH_LEGEND()

Person(user, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–°–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–≤—ã–∫–∏")

System_Boundary(s1, "AdaOS Server") {
  
  Container(ui, "Web UI / Voice UI", "React / Ionic", "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏")
  Container(api, "API Gateway", "FastAPI / GraphQL", "–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è UI –∏ LLM")
  
  Container(store, "Skill Store", "PostgreSQL + S3", "–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞–≤—ã–∫–æ–≤, –≤–µ—Ä—Å–∏–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞")
  Container(ci, "CI/CD Pipeline", "GitHub Actions / Drone CI", "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")
  
  Container(llm, "LLM Engine", "ChatGPT / Ollama", "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤")
  
  Container(deviceReg, "Device Registry", "Redis + PostgreSQL", "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤")
  Container(mqtt, "Messaging Broker", "MQTT / WebSocket", "–ö–æ–º–∞–Ω–¥—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤")

}

System_Boundary(s2, "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å AdaOS") {
  Container(runtime, "Skill Runtime", "Python + Skill SDK", "–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤")
  Container(updater, "Updater", "Git / HTTPS", "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ –∏ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã")
}

Rel(user, ui, "–£–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏")
Rel(ui, api, "–í—ã–∑—ã–≤–∞–µ—Ç")
Rel(api, llm, "–ó–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–∞–≤—ã–∫–∞")
Rel(api, store, "–ß—Ç–µ–Ω–∏–µ / –∑–∞–ø–∏—Å—å –Ω–∞–≤—ã–∫–æ–≤")
Rel(api, ci, "–ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞")
Rel(api, deviceReg, "–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤")
Rel(api, mqtt, "–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã")
Rel(store, ci, "–û—Ç–¥–∞—ë—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏")

Rel(mqtt, runtime, "–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")
Rel(updater, store, "–°–∫–∞—á–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏")
Rel(runtime, store, "–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞–≤—ã–∫–∏ —á–µ—Ä–µ–∑ SDK")

@enduml

```

## **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI**

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞

### TODO

* [x] –°–±–æ—Ä —Å–ª–æ–≤–∞—Ä–µ–π –∏–∑ lang_res –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
* [x] –ü–µ—Ä–µ–Ω–æ—Å prep request –≤ –ø–∞–ø–∫—É –Ω–∞–≤—ã–∫–∞
* [ ] –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏ –Ω–∞–≤—ã–∫–∞ –¥–ª—è –µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –ª–æ–≥–∏ –Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã –∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å prepare.py. –ò–ª–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –≥–æ–≤–æ—Ä–∏—Ç—å –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—ã –∏ –æ—Ç–ª–∞–¥–∏—Ç—å—Å—è.

```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–∞–≤—ã–∫ weather_skill –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ AlarmSkill
adaos skill create weather_skill -t AlarmSkill
# –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥–ª—è LLM –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞ prepare.py –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
adaos llm build-prep weather_skill "–ù–∞—É—á–∏—Å—å —É–∑–Ω–∞–≤–∞—Ç—å –ø–æ–≥–æ–¥—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"
# –ó–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ prepare.py
# –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã prepare.py –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
adaos skill prep weather_skill
# –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥–ª—è LLM –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –Ω–∞–≤—ã–∫–∞
adaos llm build-skill weather_skill "–ù–∞—É—á–∏—Å—å —É–∑–Ω–∞–≤–∞—Ç—å –ø–æ–≥–æ–¥—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"
# –ó–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ handlers/main.py, skill.yaml
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–≤—ã–∫
adaos skill run weather_skill get_weather
# –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤—ã–∫ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
adaos skill update weather_skill
```

### –°–ø–∏—Å–æ–∫ –Ω–∞–≤—ã–∫–æ–≤

```bash
python cli.py skill list
```

### –í–µ—Ä—Å–∏–∏ –Ω–∞–≤—ã–∫–∞

```bash
python cli.py skill versions AlarmSkill
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –≤—Ä—É—á–Ω—É—é

```bash
python cli.py test run runtime/tests/test_alarm.yaml
```

### –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞

```bash
python cli.py skill rollback
```

### –õ–æ–≥–∏ Runtime

```bash
python cli.py runtime logs
```

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# –°–±–æ—Ä–∫–∞
docker-compose build

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –í–æ–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å CLI
docker exec -it adaos bash
python cli.py skill list

```

/build
/docs
/src
  /adaos
    /core/                 # —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
      /scenario_engine
    /domain/               # dataclass DTO/VO, —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π, –∫–æ–Ω—Ñ–∏–≥–∏
    /ports/                # Protocol/ABC: GitClient, PathProvider, *Repository, Runtime, EventBus
    /adapters/             # —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ—Ä—Ç–æ–≤ (–≤–µ—Å—å I/O)
      /fs
      /db                  # sqlite –∏ —Ç.–ø.
      /git
      /audio
        /stt
        /tts
      /ovos
      /rhasspy
      /android
      /inimatic
    /services/             # –æ–±—ä–µ–∫—Ç–Ω—ã–µ ¬´–æ–±–æ–ª–æ—á–∫–∏¬ª –ø–æ–≤–µ—Ä—Ö core –∏ –ø–æ—Ä—Ç–æ–≤
      /skill
      /scenario
      /runtime
      /orchestrator
    /apps/                 # –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏)
      /cli                 # Typer
      /api                 # FastAPI/Flask
      /launcher
        /linux
        /windows
    /sdk/                  # –ø—É–±–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –Ω–∞–≤—ã–∫–æ–≤/—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
      /llm
      /locales
      /skills
      /utils
      /abi                 # –µ—Å–ª–∏ —ç—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã ‚Äî —Å—é–¥–∞
    /templates/
      /skills
      /scenarios
/tests
/tools
