# AdaOS

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ AdaOS (MVP)
adaos/
‚îú‚îÄ‚îÄ runtime/                     # Skill Runtime
‚îÇ   ‚îú‚îÄ‚îÄ skills/                  # –ü–∞–ø–∫–∏ –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlarmSkill/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ active/          # –ê–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞–≤—ã–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ staging/         # –°–∫–∞—á–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rollback/        # –ü–æ—Å–ª–µ–¥–Ω—è—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ tests/                   # YAML-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ runtime.log              # –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ version_history.json     # –ñ—É—Ä–Ω–∞–ª –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ runtime.py               # –ó–∞–ø—É—Å–∫ Runtime
‚îú‚îÄ‚îÄ skill_db.sqlite               # SQLite-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ skills_repo/                  # Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ llm_client.py                  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
‚îú‚îÄ‚îÄ test_runner.py                 # TestRunner
‚îú‚îÄ‚îÄ process_llm_output.py          # –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–≤—ã–∫–æ–≤
‚îú‚îÄ‚îÄ git_utils.py                   # –†–∞–±–æ—Ç–∞ —Å Git
‚îî‚îÄ‚îÄ cli.py                         # CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Typer)

## **–°—Ö–µ–º–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (PlantUML)**

```plantuml
@startuml Local_AdaOS_MVP
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Container(user, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–ì–æ–ª–æ—Å –∏–ª–∏ —Ç–µ–∫—Å—Ç", "–§–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã")
Container(llm, "LLM Client", "OpenAI / litellm", "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ –Ω–∞–≤—ã–∫–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É")
Container(testrunner, "Test Runner", "PyYAML + pytest", "–ü—Ä–æ–≥–æ–Ω—è–µ—Ç —Ç–µ—Å—Ç—ã BDD –¥–ª—è –Ω–∞–≤—ã–∫–æ–≤")
Container(git, "Git Repo", "GitPython", "–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")
Container(sqlite, "Skill DB", "SQLite + SQLAlchemy", "–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–æ–≤ –∏ –≤–µ—Ä—Å–∏–π")
Container(runtime, "Skill Runtime", "importlib + watchdog", "–ó–∞–ø—É—Å–∫ –Ω–∞–≤—ã–∫–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤")
Container(logs, "–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ", "logging + rich", "–•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏ –æ—à–∏–±–æ–∫")

Rel(user, llm, "–ì–æ–≤–æ—Ä–∏—Ç/–ø–∏—à–µ—Ç –∑–∞–ø—Ä–æ—Å")
Rel(llm, testrunner, "–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç")
Rel(testrunner, runtime, "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ")
Rel(testrunner, git, "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –Ω–∞–≤—ã–∫")
Rel(testrunner, sqlite, "–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ")
Rel(runtime, sqlite, "–ß–∏—Ç–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞–≤—ã–∫–æ–≤")
Rel(runtime, logs, "–ü–∏—à–µ—Ç –ª–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –∏ –æ—à–∏–±–æ–∫")

@enduml
```

## **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã**

1. **LLM** (OpenAI / Ollama —á–µ—Ä–µ–∑ `openai` –∏–ª–∏ `litellm`)

   * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç (YAML) –∏ –∫–æ–¥ –Ω–∞–≤—ã–∫–∞.

2. **TestRunner** (`PyYAML`, `pytest`)

   * –ü—Ä–æ–≥–æ–Ω—è–µ—Ç —Ç–µ—Å—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–≤—ã–∫–∞—Ö.
   * –ï—Å–ª–∏ –ø—Ä–æ–≤–∞–ª ‚Äì –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –Ω–∞–≤—ã–∫ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.

3. **GitPython**

   * –•—Ä–∞–Ω–∏—Ç –∫–∞–∂–¥—É—é –≤–µ—Ä—Å–∏—é –Ω–∞–≤—ã–∫–∞ –≤ `skills_repo/`.
   * –¢–µ–≥–∏: `AlarmSkill_v1.0`.

4. **SQLite + SQLAlchemy**

   * –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç: –≤–µ—Ä—Å–∏—è, –ø—É—Ç—å –∫ –∞–∫—Ç–∏–≤–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞–≤—ã–∫–∞, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è.

5. **Runtime** (`importlib`, `watchdog`)

   * –ü–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ –∏–∑ `skills/active/`.
   * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç intent ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç handler.py ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞.

6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (`logging + rich`)

   * –í—Å–µ –æ—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤ –∏ Runtime –ø–∏—à—É—Ç—Å—è –≤ `runtime.log`.
   * –í–æ–∑–º–æ–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CLI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

## Skill

### **1. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: –Ω–∞–≤—ã–∫ = –∫–æ–¥ + –º–∞–Ω–∏—Ñ–µ—Å—Ç (SDK)**

* **–ö–∞–∂–¥—ã–π –Ω–∞–≤—ã–∫ ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å –Ω–∞ Python**: `manifest.yaml + handler.py`.
* **SDK –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π** (10‚Äì15 —Ñ—É–Ω–∫—Ü–∏–π) –∏ –ø–æ—Ö–æ–∂ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (Flask, FastAPI, Alexa Skills Kit).
* –ù–∞–≤—ã–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–±—â–µ–º —Ä–∞–Ω—Ç–∞–π–º–µ –±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ sandbox, –Ω–æ —Å **—Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤ –∫–∞–∫ –≤ Android**.

–ü—Ä–∏–º–µ—Ä:

```yaml
# manifest.yaml
name: AlarmSkill
version: 1.0
permissions:
  - audio.playback
  - time.schedule
intents:
  - set_alarm
  - cancel_alarm
```

```python
# handler.py
from skill_sdk import speak, set_alarm, cancel_alarm

def handle(intent, entities):
    if intent == "set_alarm":
        set_alarm(entities["time"])
        speak("–ë—É–¥–∏–ª—å–Ω–∏–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    else:
        cancel_alarm()
        speak("–ë—É–¥–∏–ª—å–Ω–∏–∫ –æ—Ç–º–µ–Ω—ë–Ω")
```

### **2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –≤–º–µ—Å—Ç–æ –≥–ª—É–±–æ–∫–æ–π –∏–∑–æ–ª—è—Ü–∏–∏**

* –ù–∞–≤—ã–∫ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ–ª—É—á–∞–µ—Ç **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤** –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã (–º–∏–∫—Ä–æ—Ñ–æ–Ω, TTS, —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –∏ —Ç.–¥.).
* –ú–∞–≥–∞–∑–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –∏ –∫–æ–¥ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑).
* –í —Å–ª—É—á–∞–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –≤–æ–∑–º–æ–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –Ω–∞–≤—ã–∫–∞ —á–µ—Ä–µ–∑ CI/CD.


### **3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤ —á–µ—Ä–µ–∑ LLM –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–π UI**

* **LLM –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–º —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –Ω–∞–≤—ã–∫–æ–≤**, –ø–æ–ª—É—á–∞—è —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ SDK –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤.
* –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –Ω–∞–≤—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ AdaOS –¥–µ–ª–∞–µ–º **UI-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä**:

  * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞–≤—ã–∫ –≥–æ–ª–æ—Å–æ–º –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–º.
  * LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç.
  * –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–∞–≥–∞–∑–∏–Ω.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

* LLM –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 90% –Ω–∞–≤—ã–∫–æ–≤ –±–µ–∑ —á–µ–ª–æ–≤–µ–∫–∞.
* –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –Ω–∞–≤—ã–∫–∏ —Ä—É–∫–∞–º–∏.

---

### **4. CI/CD –∏ –º–∞–≥–∞–∑–∏–Ω –Ω–∞–≤—ã–∫–æ–≤ –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

* –í—Å–µ –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω**:

  1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
  2. –ü—Ä–æ–≥–æ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ / —ç–º—É–ª—è—Ç–æ—Ä–µ.
  3. –ü–æ–¥–ø–∏—Å—å –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –º–∞–≥–∞–∑–∏–Ω–µ.

* –ú–∞–≥–∞–∑–∏–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—è–º–∏ SDK –∏ –Ω–∞–≤—ã–∫–æ–≤, –∫–∞–∫ App Store.

---

### **5. –õ—ë–≥–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞–≤—ã–∫–æ–≤**

* –ù–∞–≤—ã–∫ –º–æ–∂–µ—Ç **–≤—ã–∑–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –Ω–∞–≤—ã–∫** —á–µ—Ä–µ–∑ SDK (`invoke_skill(skill_id, params)`).
* –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ DSL-–≥—Ä–∞—Ñ–∞.
* –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —ç—Ç–∏ —Å–≤—è–∑–∏ –∫–∞–∫ **–≥—Ä–∞—Ñ**, –Ω–æ —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å UI-–Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞.

### Skill Lifecycle

```plantuml
@startuml Skill_Lifecycle
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

LAYOUT_WITH_LEGEND()

Container(skillMgr, "SkillManager", "Python", "–£–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –Ω–∞–≤—ã–∫–æ–≤")
Component(store, "Local Skill Store", "Filesystem", "–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞–≤—ã–∫–æ–≤")
Component(registry, "Skill Registry", "Git / AdaOS Server", "–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥")
Component(executor, "SkillExecutor", "Python Sandbox", "–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")

Rel(skillMgr, registry, "–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é / –Ω–∞–≤—ã–∫")
Rel(skillMgr, store, "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç")
Rel(skillMgr, executor, "–ü–µ—Ä–µ–¥–∞—ë—Ç –Ω–∞–≤—ã–∫ –Ω–∞ –∑–∞–ø—É—Å–∫")
Rel(executor, store, "–ß–∏—Ç–∞–µ—Ç –∫–æ–¥ / –Ω–∞—Å—Ç—Ä–æ–π–∫–∏")
Rel(executor, skillMgr, "–°–æ–æ–±—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç")

@enduml

```

## –¢–∞–±–ª–∏—Ü–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å AdaOS Server

| –≠—Ç–∞–ø                    | –ó–∞–ø—Ä–æ—Å –æ—Ç Reutilizer   | –û—Ç–≤–µ—Ç –æ—Ç AdaOS Server                    |
| ----------------------- | ---------------------- | ---------------------------------------- |
| üì° –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è          | `POST /register` + ID  | `200 OK` + `config`, `skill_list`        |
| üîÅ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è        | `GET /skills/update`   | –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π              |
| ‚¨áÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–≤—ã–∫–∞     | `GET /skills/{id}`     | –ê—Ä—Ö–∏–≤ —Å –∫–æ–¥–æ–º + –º–∞–Ω–∏—Ñ–µ—Å—Ç                 |
| üì• –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤       | `POST /logs`           | `200 OK` –∏–ª–∏ `retry`                     |
| üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö      | `POST /data` (sensors) | `200 OK` –∏–ª–∏ `rules to trigger`          |
| üîÉ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è | `PATCH /status`        | –ú–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã –∏–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ |


### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```plantuml
@startuml Hybrid_Approach
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!includeurl https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_WITH_LEGEND()

Person(user, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å", "–°–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–≤—ã–∫–∏")

System_Boundary(s1, "AdaOS Server") {
  
  Container(ui, "Web UI / Voice UI", "React / Ionic", "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏")
  Container(api, "API Gateway", "FastAPI / GraphQL", "–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è UI –∏ LLM")
  
  Container(store, "Skill Store", "PostgreSQL + S3", "–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞–≤—ã–∫–æ–≤, –≤–µ—Ä—Å–∏–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞")
  Container(ci, "CI/CD Pipeline", "GitHub Actions / Drone CI", "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤")
  
  Container(llm, "LLM Engine", "ChatGPT / Ollama", "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤")
  
  Container(deviceReg, "Device Registry", "Redis + PostgreSQL", "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç—É—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤")
  Container(mqtt, "Messaging Broker", "MQTT / WebSocket", "–ö–æ–º–∞–Ω–¥—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤")

}

System_Boundary(s2, "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å AdaOS") {
  Container(runtime, "Skill Runtime", "Python + Skill SDK", "–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —Å —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤")
  Container(updater, "Updater", "Git / HTTPS", "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ –∏ —è–¥—Ä–∞ —Å–∏—Å—Ç–µ–º—ã")
}

Rel(user, ui, "–£–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏")
Rel(ui, api, "–í—ã–∑—ã–≤–∞–µ—Ç")
Rel(api, llm, "–ó–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–∞–≤—ã–∫–∞")
Rel(api, store, "–ß—Ç–µ–Ω–∏–µ / –∑–∞–ø–∏—Å—å –Ω–∞–≤—ã–∫–æ–≤")
Rel(api, ci, "–ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞")
Rel(api, deviceReg, "–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤")
Rel(api, mqtt, "–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã")
Rel(store, ci, "–û—Ç–¥–∞—ë—Ç –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏")

Rel(mqtt, runtime, "–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")
Rel(updater, store, "–°–∫–∞—á–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏")
Rel(runtime, store, "–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞–≤—ã–∫–∏ —á–µ—Ä–µ–∑ SDK")

@enduml

```

## **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CLI**

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞:

```bash
python cli.py skill request "–ê–¥–∞, –Ω–∞—É—á–∏—Å—å —Å—Ç–∞–≤–∏—Ç—å –±—É–¥–∏–ª—å–Ω–∏–∫"
```

### –°–ø–∏—Å–æ–∫ –Ω–∞–≤—ã–∫–æ–≤:

```bash
python cli.py skill list
```

### –í–µ—Ä—Å–∏–∏ –Ω–∞–≤—ã–∫–∞:

```bash
python cli.py skill versions AlarmSkill
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –≤—Ä—É—á–Ω—É—é:

```bash
python cli.py test run runtime/tests/test_alarm.yaml
```

### –û—Ç–∫–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞:

```bash
python cli.py skill rollback
```

### –õ–æ–≥–∏ Runtime:

```bash
python cli.py runtime logs
```

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

```bash
# –°–±–æ—Ä–∫–∞
docker-compose build

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –í–æ–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å CLI
docker exec -it adaos bash
python cli.py skill list

```
