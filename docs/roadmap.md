# AdaOS — дорожная карта по группам (осень 2025)

**Цели вебинара:** дать обзор направлений, зоны ответственности групп и конкретные первые задачи.

---

## Сквозные интерфейсы (все группы ориентируются)

- [ ] **Skill Manifest v0.2**: `name`, `version`, `capabilities`, `inputs`, `outputs`, `events`, `permissions`, `secrets`, `healthcheck`, `telemetry`.
- [ ] **Scenario DSL v0.1**: узлы (skills), связи (events/streams), условия, состояние, таймауты, обработка ошибок, реконфигурация.
- [ ] **Event Bus Contract**: `event_id`, `topic`, `payload.schema`, `trace_id`, `ttl`, `acl`.
- [ ] **API базовые эндпоинты**:
  - [x] `/api/skills`,
  - [x] `/api/secrets`,
  - [x] `/api/scenarios`,
  - [ ] `/api/runtime`,
  - [ ] `/api/events`,
  - [ ] `/api/telemetry`.
- [ ] **Observability Schema**: `logs`, `metrics`, `traces`, `decisions` (структурированные объяснения LLM без CoT).

---

## 1) DevOps навыков (включая LLM как программист)

**Зона ответственности:** скелеты навыков, CI/CD, линтеры, генерация кода.

- [x] Генератор навыка из шаблона с использованием LLM (без LLM API)
- [x] CLI-команда `skill validate` (JSON Schema).
- [x] CI: unit + контрактные тесты по Skill Manifest.
- [ ] Шаблоны для sync/async, streaming, http. Прототипы:
  - [ ] получение данных из API сторонних сервисов. Хранение секретов.
  - [ ] Индексация видео, аудио
  - [ ] типизация input, output: text, голос, веб интерфейс
  - [ ] Потоковая трансляция видео, аудио
- [ ] Персональные репозитории навыков
  - [ ] Создание и удаление частных репозиториев при регистрации хостов
  - [ ] Создать форк навыков и сценариев в частный репозиторий
  - [ ] update from main, PR навыка и сценария в публичный репозиторий.
  - [ ] Использование LLM для оценки PR и слияния. Анализ уязвимостей, ценности, универсальности, отсутствия секретов.
  - [ ] GitHub Actions: линт/тест/пакетирование.
- [ ] Автосборка и подпись артефактов (SBOM, sigstore).
  **Приёмка MVP:**
  - [ ] Регистрация хаба на root сервере
  - [ ] Создание навыка по заданию человека из шаблона с использованием LLM через root сервер.
  - [ ]

## 2) DevOps сценариев (включая LLM как программист)

**Зона ответственности:*- [ ] DSL, миграции, CI/CD сценариев.
**T0–T2:**

- [ ] Парсер Scenario DSL v0.1 (YAML/JSON).
- [ ] Валидация, статический анализ зависимостей.
- [ ] CLI: `scenario run`, `scenario validate`, `scenario diff`.
- [ ] LLM: генерация черновика сценария по описанию — v0.1.
- [ ] «Горячая» подмена вводов/выводов.
- [ ] Каталог сценариев с рейтингами/совместимостью.
  **Приёмка MVP:** сценарий `morning` собирается и выполняется по DSL.
  **Первые задачи:**
- [ ] Определить минимальный DSL и схемы.
- [ ] Реализовать `scenario lint` + ошибки читаемым языком.
- [ ] Персональные репозитории сценариев

## 3) Runtime Skill Development (using LLM)

**Зона ответственности:** стандартизированный запуск навыков, адаптеры ввода/вывода.

- [ ] Процессная модель навыка: lifecycle hooks (`init/start/stop/health`).
- [ ] Унифицированный I/O: messages, streams, files.
- [ ] Автогенерация заглушек/тестов (LLM v0.1).
- [ ] Пулы процессов/контейнеров, изоляция.
- [ ] Автоотладка по логам (LLM v0.3).
- [ ] Самовосстановление (restart/backoff), политика обновлений.
  **Приёмка MVP:** 3 эталонных навыка в едином рантайме.
  **Первые задачи:**
- [ ] Спецификация lifecycle.
- [ ] SDK-адаптеры для Python (asyncio) + примеры.

## 4) Runtime Scenarios Development (using LLM)

**Зона ответственности:** исполнение, состояние, реконфигурация.

- [ ] Оркестратор: события, таймауты, ретраи, `trace_id`.
- [ ] State-store для сценариев (in-memory + SQLite).
- [ ] LLM-хелперы: предложение переходов/ветвлений.
- [ ] Распределённое выполнение (Hub↔Member), идемпотентность.
- [ ] Оптимизатор графа исполнения.
  **Приёмка MVP:** сценарий обрабатывает сбои и восстанавливается.
  **Первые задачи:**
- [ ] Скелет оркестратора + API `run/abort/status`.

## 5) Communication, Subnet, API, CLI

**Зона ответственности:*- [ ] протоколы, сеть, публичные API, инструменты.
**T0–T2:**

- [ ] REST v0.2 (FastAPI): `/skills`, `/scenarios`, `/runtime`, `/events`.
- [ ] WebSocket для событий, локальный Event Bus.
- [ ] CLI: `adaos api serve`, `adaos events tail`.
  **T3–T6:**
- [ ] Сервис дискавери, устойчивость к разрывам, оффлайн-синхронизация.
- [ ] gRPC-внутренний транспорт (по мере готовности).
  **T6–T12:**
- [ ] Слоистая маршрутизация в подсети.
  **Приёмка MVP:*- [ ] стабильные контракты API + CLI-обвязка.
  **Первые задачи:**
- [ ] Согласовать OpenAPI-спецификацию.
- [ ] Протокол событий (схемы, TTL, ACL).

## 6) Security и управление секретами

**Зона ответственности:*- [ ] аутентификация, авторизация, секреты, аудит.
**T0–T2:**

- [ ] Токены (signed), rbac v0.1 для skills/scenarios.
- [ ] Secrets v0.1 (локальный стор + KMS-плагины позднее).
- [ ] Аудит базовых операций.
  **T3–T6:**
- [ ] Ротация секретов, политики прав, scoped tokens.
- [ ] Supply-chain security: подпись артефактов, SBOM.
  **T6–T12:**
- [ ] Политики соответствия (минимум — best practices).
  **Приёмка MVP:*- [ ] секреты не хранятся в коде, базовый RBAC раскрывает минимум прав.
  **Первые задачи:**
- [ ] Формат `secret://` ссылок в манифестах.
- [ ] Middleware авторизации в API.

## 7) Android, Linux, Windows interfaces

**Зона ответственности:*- [ ] доступ к устройствам ввода/вывода и системным сервисам.
**T0–T2:**

- [ ] Прототипы адаптеров: микрофон/камера/аудиовывод.
- [ ] Healthcheck для OS-адаптеров.
  **T3–T6:**
- [ ] Драйверы расширений (например, BLE/Wi‑Fi).
- [ ] Стабильные API обёртки (permissions, ошибки).
  **T6–T12:**
- [ ] Матрица совместимости; пакет готовых адаптеров.
  **Приёмка MVP:*- [ ] один сценарий работает на трёх ОС.
  **Первые задачи:**
- [ ] Схемы `os://device/{capability}`.
- [ ] Демки ввода/вывода.

## 8) iOS, iPhone interfaces

**Зона ответственности:*- [ ] интеграция с iOS API и ограничениями sandbox.
**T0–T2:**

- [ ] Доказательство осуществимости: минимальный клиент.
- [ ] Доступ к audio I/O, камера (по разрешениям).
  **T3–T6:**
- [ ] Shortcuts/SiriKit интеграции (по возможности).
- [ ] Канал обмена с Hub (push/websocket).
  **T6–T12:**
- [ ] Полезные профили для демо/учебных задач.
  **Приёмка MVP:*- [ ] один демонстрационный сценарий на iPhone.
  **Первые задачи:**
- [ ] iOS shell-приложение + мост к API.

## 9) Monitoring и интерпретируемость

**Зона ответственности:*- [ ] метрики, логи, трассировка, объяснимость решений.
**T0–T2:**

- [ ] OpenTelemetry SDK, `trace_id` сквозной.
- [ ] Дашборд: состояние сценариев/навыков.
- [ ] Логи решений LLM в структурированном виде (без CoT).
  **T3–T6:**
- [ ] Алертинг по SLA, профили производительности.
  **T6–T12:**
- [ ] Граф событий и dependences, воспроизведение инцидентов.
  **Приёмка MVP:*- [ ] базовый дашборд + трейсинг запросов.
  **Первые задачи:**
- [ ] Схема телеметрии; интеграция с API/CLI.

## 10) AdaOS DevOps + Tests + Docs

**Зона ответственности:*- [ ] качество, релизы, документация и обучение.
**T0–T2:**

- [ ] Test Harness v0.1: быстрый прогон e2e сценариев.
- [ ] Матрица поддерживаемых окружений.
- [ ] Документация: «первые 60 минут разработчика».
  **T3–T6:**
- [ ] Нагрузочные стенды, аварийные тренировки (game days).
  **T6–T12:**
- [ ] Конвейер релизов SDK 1.0 и ядра.
  **Приёмка MVP:*- [ ] зелёный прогон e2e на 3 ОС.
  **Первые задачи:**
- [ ] Структура репо docs/, styleguide, примеры.

## 11) UI/UX-группа

**Зона ответственности:*- [ ] интерфейсы настройки, наблюдения и демо.
**T0–T2:**

- [ ] UI Shell v0.1 (web/IONIC):

  - [ ] список навыков/сценариев, запуск/стоп, логи;
  - [ ] визуальный граф сценария (read‑only);
  - [ ] конфигурация секретов (safe UI-паттерны).
    **T3–T6:**
- [ ] Редактор сценариев (graph edit) с валидацией;
- [ ] Просмотр телеметрии и трасс.
  **T6–T12:**
- [ ] Маркетплейс навыков, профили совместимости.
  **Приёмка MVP:*- [ ] стабильный UI для демонстраций и учебных задач.
  **Первые задачи:**
- [ ] Дизайн-система, прототипы экранов, интеграция с API.

---

## Зависимости между группами (минимальная карта)

- [ ] 2 (DevOps сценариев) ← 4 (Runtime сценариев) для «горячей» реконфигурации.
- [ ] 3/4 (Runtime) ← 5 (API/CLI) для контрактов и событий.
- [ ] 3/4/5 ← 6 (Security) для авторизации и секретов.
- [ ] 7/8 (OS-интерфейсы) → 3/4 (Runtime) для I/O.
- [ ] 9 (Monitoring) ← все группы для телеметрии.
- [ ] 11 (UI/UX) ← 5 (API), 9 (Telemetry).
- [ ] 10 (DevOps+Tests+Docs) сквозная для всех.

---

## Единые критерии «Готово» (DoD) для MVP

- [ ] Контракты API/DSL/Manifest задокументированы и проверяются схемами.
- [ ] Автотесты: unit + контрактные + e2e (минимум один сценарий).
- [ ] Телеметрия: трейсинг и базовые метрики включены повсюду.
- [ ] Безопасность: секреты вне кода, токены с ограничением прав.
- [ ] Документация: гайд «первые 60 минут» и примеры.

---

## Риски и меры

- [ ] **Фрагментация контрактов*- [ ] → единый репозиторий схем; регулярные совместимости.
- [ ] **Перегрев LLM-интеграций*- [ ] → чёткие границы: генерация обвязки, а не бизнес-логики.
- [ ] **OS‑разнородность*- [ ] → минимальные адаптеры, матрица совместимости.
- [ ] **Безопасность*- [ ] → секреты по ссылкам, RBAC с принципом минимальных прав.

---

## Организация работы

- [ ] Ритм: недельные спринты, общая архитектурная синхронизация по пятницам.
- [ ] Метки в issue tracker: `group:devops-skills`, `group:runtime-scenarios`, `area:api`, `area:security`, `area:ui`, `prio:P1…P3`.
- [ ] Формат задач: «результат → критерии приёмки → демо → связь с контрактом».

---

### Приложение A — чек-лист старта для каждой группы (первая неделя)

1. Определить границы ответственности и зависимостей.
2. Принять схемы (Manifest/DSL/API/Telemetry) и добавить валидаторы.
3. Завести эталонные примеры и сценарий `morning` как e2e.
4. Включить телеметрию и трассировку (OpenTelemetry).
5. Подготовить README «как запустить демо за 5 минут».
